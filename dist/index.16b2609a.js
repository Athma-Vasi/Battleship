const e=["By the Grace of God, Queen of Manticore, Protector of the Realm, Elizabeth III, to all her loyal sailors: ","You stand on the precipice of a great battle, a battle that has been months in the making. The galaxy watches with bated breath as we prepare to face our enemy, the tyrannical People's Republic of Haven. But we do not stand alone. The hopes and prayers of all those who cherish freedom and liberty march with us into battle.","Shall we allow our audacious enemies to violate with impunity the territory of the Kingdom? Will you permit the fleet to escape which has carried terror into your families? You will not!","Let our enemies tremble at the sound of our thundering grasers! Let them cower before our fierce determination and unbreakable will! For we are the sailors of Manticore, and we will not allow our kingdom to be violated or our families to be terrorized!","Our cause is just, our determination unbreakable, and our courage unwavering. We fight not just for our kingdom, but for the ideals that it represents: justice, freedom, and the rule of law. Our enemy seeks to trample these ideals underfoot, but we will not let them!","I have faith in you, my fellow sailors. I have seen your bravery, your tenacity, and your skill. You are the best of the best, the defenders of our beloved Manticore. And so I say to you, go forth into battle with heads held high, with hearts filled with the spirit of Manticore. The eyes of the galaxy are upon us, and we will not disappoint. Victory is within our grasp, and we shall seize it with all our might!","We are the defenders of the Star Kingdom of Manticore, and we will fight to protect our people and our home. We will stand strong against the enemy, and we will not rest until they are defeated and our kingdom is safe!"],t=e=>t=>{const r=document.createElement(e);return t.reduce(((e,t)=>(e.classList.add(t),e)),r)},r=e=>t=>e.reduce(((e,t)=>{if(!(t.length>2))return e&&e.setAttribute(t[0],t[1]),e}),t),o=e=>t=>e.reduce(((e,t)=>{if(!(t.length>2))return e&&e.style.setProperty(t[0],t[1]),e}),t),a=e=>t=>(t&&t.style.removeProperty(e),t),n=e=>t=>{const r=document.createTextNode(e);return t&&t.appendChild(r),t},l=e=>t=>{t&&e&&e.appendChild(t)},s=e=>t=>r=>(r&&r.addEventListener(e,t),r),i=e=>t=>r=>(r&&r.removeEventListener(e,t),r),c=(...e)=>t=>e.reduce(((e,t)=>t(e)),t);async function d({containerElem:e,strings:r,speed:o=50}){!async function(e,t){for(const[r,o]of e.entries())await t(o,r,e)}(r,(async(a,s)=>{const i=t("p")(["typewriter-text"]);l(e)(i),await async function({string:e,childElem:t,parentElem:r,speed:o=50}){return new Promise((a=>{let l=0;const s=setInterval((()=>{var o;l>=e.length?(clearInterval(s),a()):(t&&n(e[l])(t),l+=1);const i=null!==(o=null==r?void 0:r.scrollHeight)&&void 0!==o?o:0;null==r||r.scroll({top:i,left:0,behavior:"smooth"})}),o)}))}({string:a,childElem:i,parentElem:e,speed:o});var d;s<r.length-1&&c(l(e))(t("br")(["break"]));const u=null!==(d=null==e?void 0:e.scrollHeight)&&void 0!==d?d:0;null==e||e.scroll({top:u,left:0,behavior:"smooth"})}))}const u=function(r){window.scrollTo(0,0);const o=document.querySelector(".main"),a=t("div")(["infoScreen-container"]);l(o)(a),e.push(`Ready fleet formation, Admiral ${r}.`),d({containerElem:a,strings:e,speed:25})},p=function(){const e=document.querySelector(".main"),o=t("div")(["bothBoards-container"]);l(e)(o);const a=t("div")(["playerBoard-wrapper"]);l(o)(a);const n=t("div")(["playerBoard-container"]);l(a)(n);for(let e=0;e<10;e+=1)for(let o=0;o<10;o+=1)c(r([["data-cellplayer",`${o},${e}`]]),l(n))(t("div")(["player-gameCell"]))},h=function(e){const t=this.textContent;"Axis-X"===t?(this.textContent="",this.textContent="Axis-Y"):"Axis-Y"===t&&(this.textContent="",this.textContent="Axis-X")},m=function(e){var t;const r=JSON.parse(null!==(t=localStorage.getItem("playerShipsCoords"))&&void 0!==t?t:"");e.forEach((e=>r.push(e))),localStorage.setItem("playerShipsCoords",JSON.stringify(r))};function y(){const e=[];for(let t=0;t<10;t+=1)for(let r=0;r<10;r+=1)e.push([r,t]);const t=new Set;return Object.fromEntries([["superdreadnought",5],["carrier",4],["battleship",3],["destroyer",2],["destroyer",2],["frigate",1],["frigate",1]].reduce(((r,[o,a])=>{let n,l=!1,s=!0,i=[];for(;!l||s;){i=[];const r=function(){let r=Math.floor(Math.random()*e.length),o=e[r].join(",");for(;t.has(o);)r=Math.floor(Math.random()*e.length),o=e[r].join(",");return e[r]}();switch(0===Math.floor(2*Math.random())?"horizontal":"vertical"){case"horizontal":for(let e=0;e<a;e+=1)i.push([r[0]+e,r[1]]);l=i.every((([e,t])=>e>=0&&e<10&&t>=0&&t<10)),s=i.some((e=>t.has(e.join(","))));break;case"vertical":for(let e=0;e<a;e+=1)i.push([r[0],r[1]+e]);l=i.every((([e,t])=>e>=0&&e<10&&t>=0&&t<10)),s=i.some((e=>t.has(e.join(","))))}}if(i.forEach((e=>t.add(e.join(",")))),console.log("shipsPresentCoords from populateCompShipsCoords()",t),"superdreadnought"===o||"carrier"===o||"battleship"===o){n=new Map([["head",i[0].toString()],["tail",i[i.length-1].toString()]]);for(let e=1;e<i.length-1;e+=1)n.set(""+("battleship"===o?"body":`body${e}`),i[e].toString());r.set(o,Object.fromEntries(n))}else if("destroyer"===o||"frigate"===o)switch(o){case"destroyer":{const e={head:i[0].toString(),tail:i[i.length-1].toString()},t=r.get("destroyers");t?r.set("destroyers",t.concat(e)):r.set("destroyers",[e]);break}case"frigate":{const e={body:i[0].toString()},t=r.get("frigates");t?r.set("frigates",t.concat(e)):r.set("frigates",[e]);break}}return r}),new Map))}const g=function(e){var t;const a=JSON.parse(null!==(t=localStorage.getItem("compShipsCoords"))&&void 0!==t?t:JSON.stringify([]));Object.entries(e).forEach((([e,t])=>{localStorage.getItem(`comp${e[0].toUpperCase()+e.slice(1)}`)||localStorage.setItem(`comp${e[0].toUpperCase()+e.slice(1)}`,JSON.stringify(t)),Array.isArray(t)?t.forEach((e=>{Object.entries(e).forEach((([e,t])=>{const l=document.querySelector(`[data-cellcomp="${t}"]`);c(r([["class","compShipPresent comp-gameCell"]]),n("✴"),o([["border","1px solid #00f000"]]))(l),a.push(t)}))})):Object.entries(t).forEach((([e,t])=>{const l=document.querySelector(`[data-cellcomp="${t}"]`);c(r([["class","compShipPresent comp-gameCell"]]),n("✴"),o([["border","1px solid #00f000"]]))(l),a.push(t)}))}));document.querySelectorAll(".comp-gameCell").forEach((e=>{e.classList.contains("compShipPresent")||c(r([["class","compShipNotPresent comp-gameCell"]]),n("✴"))(e)})),localStorage.setItem("compShipsCoords",JSON.stringify(a))},f=function(){const e=y();g(e)},S=function(){const e=document.querySelector(".gameBoard-container"),o=t("div")(["compBoard-wrapper"]);l(e)(o);const a=t("div")(["compBoard-container"]);l(o)(a);for(let e=0;e<10;e+=1)for(let o=0;o<10;o+=1)c(r([["data-cellcomp",`${o},${e}`]]),l(a))(t("div")(["comp-gameCell"]))},v={haven:{superdreadnoughts:["Nouveau Paris","Danville","Havensport","Juneau","Kaplin","Macrea's Tor","La Martin","LaFayette","Lutetia","Merston","New Boston","Toulon","Tregizva","Waldensville","Kaplan","Merston","Shaldon","René d'Aiguillon","Du Quesne","D'Allonville","Alphand","Baudin","Charette","Forbin","Guichen","D'Iberville","Lepanto","Mouchez","Tilden","Rouseau","Salamis","Sovereign of Space","Bayard","Cannonade","Conquete","Guerriere","Hero","Lancelot","New Republic","Victorieux","Temeraire"],carriers:["Sword","Claymore","Cutlass","Dirk","Drusus","Durandal","Epee","Estoc","Excalibur","Falchion","Flamberge","Foil","Gladius","Jian","Katana","Khopesh","Poignard","Raiden","Rapier","Sabre","Scimitar","Shamshir","Wakasashi","Mars","Loki","Marduk","Nurghal","Odin","Thor","Tyr","Anhur","Ares","De Conde","Hachiman","Huan-Ti","Ishtar","Rienzi","Tanit","Krashnark","Morrigan","Yama"],battleships:["Tiger","Bengal","Bobcat","Burmese","Cheetah","Cougar","Jaguar","Leopard","Lion","Lioness","Lynx","Manx","Mountain Lion","Ocelot","Panther","Puma","Sabretooth","Wildcat","Sultan","Abdali","Achmed","Alp Arslan","Bayezid","Fatih","Isa","Kerebin","Malik","Mehmed","Murad","Musa","Rash al-Din","Saladin","Selim","Sinjar","Sulieman","Tinaly","Tolek","Walid","Yavuz","Yildirim","Attila","Barbarosa","Boyar","Cassander","Count Maresuke Nogi","Count Tilly","Cyrus","Farnese","Ivan IV","Kutuzov","MacArthur","Modred","Pappenheim","Roxana","Subutai","Tammerlane","Tepes","Wallenstein","William T. Sherman","Triumphant","Admiral Quinterra","Conquerant","Conquistador","Schaumberg","Theban Warrior","Vindicator","Citizen Admiral Tacosa","Mohawk","Saracen","Veracity"],destroyers:["Bastogne","Arlon","Breslau ","Bruges","Busko","Charleroi","Gorzow","Jaroslaw","Kessler","Krakow","Leuven","Liege","Lubin","Malbork","Poznan","Suwalki","Torun","Toulon","Tournai","Desforge","Alcazar ","Auphan","Baudin","Bouvet","Bruat","Courbet","Decres","Duperre","Hamelin","Kersaint","Linois","Morillot","Muselier","Dainville","Picquet","Requin","Roussin","Toulouse","Hecate","Hector","Racer"],frigates:["Brilliance","Glimmer","Radiance","Solar Flare","Sunspot","Conqueror","Alexander","Alvarado","Babar","Caesar","Cortez","Diaz","Khan","Hannibal","Hideyoshi","Huangdi","Montezuma","Napoleon","Rameses","Valdivia","Vaubon","Wari","William","Charles Wade Pope","Marcus","Beaudway","Thomas Fisher","Wiliam Harting","Isaiah Kenter","Joseph T. Marrone","Kenneth Nastansky","Esperanza de Souza","Jonathan Talbott","Bacchante","Sabine","Seahorse"]},manticore:{superdreadnoughts:["Invictus","Imperator","Incomparable","Intolerant","Intransigent","Second Yeltsin","Medusa","Barnett","Belisarius","Bellona","Elizabeth I","Ellen D'Orville","Hancock","King Roger III","Marduk","Regulus","Revenge","Troubadour","Thunderer","Trevor's Star","Victorious","Warrior","Yeltsin's Star","King William","King David","King Edward","King George","King Michael","King Roger","Prince Charles","Prince Malachai","Prince Royal","Queen Adrianne","Queen Caitrin","Manticore","Gryphon","Sphinx","Samothrace","Hercules","Majestic","Magnificent","Monarch","Scepter","Sovereign","Bellerophon"],carriers:["Redoubtable","Champion","Defiant","Formidable","Intolerant","Invincible","Irresistible","Onslaught","Renown","Resolution","Revenge","Homer","Achilles","Agamemnon","Cassandra","Hecate","Hector","Menelaus","Penthesilea","Priam","Reliant","Alcibiades","Amphitrite","Achilles","Dauntless","Hasley","Indomitable","Ishtar","Lysander","Nike","Nelson","Retaliation","Royalist","Truculent","Venom","Victory","Viper","Warspite","Xerxes","Agamemnon","Ajax","Hector","Patrocles","Priam","Nike"],battleships:["Prince Consort","Prince Adrian","Prince Justin","Prince Michael","Prince Roger","Prince Stephen","Prince Harold","Princess Adrienne","Princess Angelique","Princess Aorianna","Princess Caitrin","Princess Joanna","Princess Michelle","Princess Samantha","Princess Solange","Crusader","Alexius","Eleanor","Frederick","Iberiana","Lafroye","Philip","Richard","Tancred","Broadsword","Claymore","Cutlass","Glaive","Guisarm","Halberd","Pike","Schiavone","Alchemist","Cantrip","Circe","Conjurer","Druidess","Enchanter","Fearless ","Magician","Magus","Merlin","Necromancer","Oracle","Runebearer","Santander","Seeress","Shaman","Sorceror","Star Knight","Star Ranger","Thaumaturge","Valiant","Warlock ","Edward Saganami","Jessica Epps","Quentin Saint-James","Hexapuma","Gauntlet"],destroyers:["Culverin","Cannonball","Carronade","Chainshot","Chanson","Aria","Balladeer","Bard","Canticle","Choralist","Glorioso","Madrigal","Minstrel","Nightingale","Plain Song","Rondeau","Serenade","Troubadur","Oracle","Vixen","Windsong","Havoc","Chaos","Devastation","Harrow","Hutspur","Turbulent","Vengeance","Wrack","Falcon","Condor","Goshawk","Harrier","Hawk","Hawkwing3","Kestrel","Kingfisher","Kite","Linnet","Merlin","Nighthawk","Peregrine","Shrike","Arrowhead","Roland"],frigates:["Courageous","Audacious","Fearless","Intransigent","Intrepid","Resolute","Valiant","Defiant","Gallant","Apollo","Adonai","Agni","Amaterasu","Anubis","Aphrodite","Arethusa","Artemis","Athena","Chiron","Hera","Hermes","Iris","Leto","Perseus","Poseidon","Thetis","Xanthus","Ares","Illustrious","Furious","Magnificent","Regal","Avalon","Aegis"]}};function b(){var e;const t=JSON.parse(null!==(e=localStorage.getItem("superdreadnought"))&&void 0!==e?e:JSON.stringify([])),a=Object.values(t);var l;const s=JSON.parse(null!==(l=localStorage.getItem("battleship"))&&void 0!==l?l:JSON.stringify([])),i=Object.values(s);var d;const u=JSON.parse(null!==(d=localStorage.getItem("carrier"))&&void 0!==d?d:JSON.stringify([])),p=Object.values(u);var h;const m=JSON.parse(null!==(h=localStorage.getItem("destroyer"))&&void 0!==h?h:JSON.stringify([])).flatMap((e=>Object.values(e)));var y;const g=JSON.parse(null!==(y=localStorage.getItem("frigate"))&&void 0!==y?y:JSON.stringify([])).flatMap((e=>Object.values(e)));document.querySelectorAll(".player-gameCell").forEach((e=>{var t,l,s,d,u;a.includes(null!==(t=e.dataset.cellplayer)&&void 0!==t?t:"")?c(n("S"),o([["color","#f0a400"]]),r([["class","player-gameCell playerShipPresent"]]))(e):i.includes(null!==(l=e.dataset.cellplayer)&&void 0!==l?l:"")?c(n("B"),o([["color","#f0a400"]]),r([["class","player-gameCell playerShipPresent"]]))(e):p.includes(null!==(s=e.dataset.cellplayer)&&void 0!==s?s:"")?c(n("C"),o([["color","#f0a400"]]),r([["class","player-gameCell playerShipPresent"]]))(e):m.includes(null!==(d=e.dataset.cellplayer)&&void 0!==d?d:"")?c(n("D"),o([["color","#f0a400"]]),r([["class","player-gameCell playerShipPresent"]]))(e):g.includes(null!==(u=e.dataset.cellplayer)&&void 0!==u?u:"")?c(n("F"),o([["color","#f0a400"]]),r([["class","player-gameCell playerShipPresent"]]))(e):c(n("✴"),o([["color","gainsboro"]]),r([["class","player-gameCell playerShipNotPresent"]]))(e)}))}function w(){const e=document.querySelector(".main"),o=t("div")(["gameBoard-container"]);l(e)(o);const a=t("div")(["gamePlayerBoard-wrapper"]);l(o)(a);const n=t("div")(["playerBoard-container"]);l(a)(n);for(let e=0;e<10;e+=1)for(let o=0;o<10;o+=1)c(r([["data-cellplayer",`${o},${e}`]]),l(n))(t("div")(["player-gameCell"]));b()}function C(){var e;const t=JSON.parse(null!==(e=localStorage.getItem("superdreadnought"))&&void 0!==e?e:JSON.stringify([{}])),r=[t.head,t.body1,t.body2,t.body3,t.tail];var o;const a=JSON.parse(null!==(o=localStorage.getItem("carrier"))&&void 0!==o?o:JSON.stringify([{}])),n=[a.head,a.body1,a.body2,a.tail];var l;const s=JSON.parse(null!==(l=localStorage.getItem("battleship"))&&void 0!==l?l:JSON.stringify([{}])),i=[s.head,s.body,s.tail];var c;const d=JSON.parse(null!==(c=localStorage.getItem("destroyer"))&&void 0!==c?c:JSON.stringify([{}])),u=[[d[0].head,d[0].tail],[d[1].head,d[1].tail]];var p;const h=JSON.parse(null!==(p=localStorage.getItem("frigate"))&&void 0!==p?p:JSON.stringify([{}])),m=[[h[0].body],[h[1].body]];var y;const g=JSON.parse(null!==(y=localStorage.getItem("compSuperdreadnought"))&&void 0!==y?y:JSON.stringify([{}])),f=[g.head,g.body1,g.body2,g.body3,g.tail];var S;const v=JSON.parse(null!==(S=localStorage.getItem("compCarrier"))&&void 0!==S?S:JSON.stringify([{}])),b=[v.head,v.body1,v.body2,v.tail];var w;const C=JSON.parse(null!==(w=localStorage.getItem("compBattleship"))&&void 0!==w?w:JSON.stringify([{}])),N=[C.head,C.body,C.tail];var O;const T=JSON.parse(null!==(O=localStorage.getItem("compDestroyers"))&&void 0!==O?O:JSON.stringify([{}])),k=[[T[0].head,T[0].tail],[T[1].head,T[1].tail]];var I;const x=JSON.parse(null!==(I=localStorage.getItem("compFrigates"))&&void 0!==I?I:JSON.stringify([{}]));return{playerShipCoords:{superdreadnought:r,carrier:n,battleship:i,destroyers:u,frigates:m},compShipCoords:{superdreadnought:f,carrier:b,battleship:N,destroyers:k,frigates:[[x[0].body],[x[1].body]]}}}function N(e){const t=structuredClone(e);for(let e=t.length-1;e>0;e-=1){const r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}return t}function O(){const e=document.querySelector(".gamePlayerBoard-wrapper"),a=document.querySelector(".compBoard-wrapper"),s=t("div")(["tacticalOverview-wrapper"]);l(e)(s);const i=t("div")(["tacticalOverview-wrapper"]);l(a)(i);const d=t("div")(["tacticalOverview-container"]);l(s)(d);const u=t("h2")(["tacticalOverview-title"]);c(n("Manticoran Navy Tenth Fleet"),l(d))(u);const p=t("div")(["tacticalOverview-container"]);l(i)(p);const h=t("h2")(["tacticalOverview-title"]);var m;c(n("Havenite Navy Grendelsbane Fleet"),l(p))(h);const y=JSON.parse(null!==(m=localStorage.getItem("manticoreShipNames"))&&void 0!==m?m:JSON.stringify([{}])),{playerShipCoords:g}=C();var f;Object.entries(y).forEach((([e,o])=>{if(Array.isArray(o)){const a="destroyers"===e?2:1,i="destroyers"===e?g.destroyers:g.frigates;for(let d=0;d<2;d+=1){const u=t("div")(["shipName-container"]);l(s)(u),c(n(`RMNS ${o[d]}`),l(u))(t("p")(["shipName-text"]));const p=t("div")(["tacticalCells-container"]);c(r([["data-playershiptype",`${e}`]]),l(u))(p);for(let o=0;o<a;o+=1)c(r([["data-playership",`${i[d][o]}`]]),n(e[0].toUpperCase()),l(p))(t("div")(["player-tacticalCell"]))}}else{const a=t("div")(["shipName-container"]);l(s)(a);const i="superdreadnought"===e?5:"carrier"===e?4:3,d="superdreadnought"===e?g.superdreadnought:"carrier"===e?g.carrier:g.battleship;c(n(`RMNS ${o}`),l(a))(t("p")(["shipName-text"])),c(r([["data-shiptype",`${e}`]]),l(a))(t("div")(["tacticalCells-container"]));for(let o=0;o<i;o+=1)c(r([["data-playership",`${d[o]}`]]),n(e[0].toUpperCase()),l(a))(t("div")(["player-tacticalCell"]))}}));const S=JSON.parse(null!==(f=localStorage.getItem("havenShipNames"))&&void 0!==f?f:JSON.stringify([{}]));N(Object.entries(S)).forEach((([e,a])=>{if(Array.isArray(a)){const s="destroyers"===e?2:1;for(let d=0;d<2;d+=1){const u=t("div")(["shipName-container"]);l(i)(u),c(n(`PNS ${a[d]}`),l(u))(t("p")(["shipName-text"]));const p=t("div")(["tacticalCells-container"]);c(r([["data-compshiptype",`${e[0].toUpperCase()+e.slice(1)}_${d}`]]),l(u))(p),c(r([["data-compshipquestion",`${e[0].toUpperCase()+e.slice(1)}_${d}`]]),n("?"),l(u))(t("div")(["comp-tacticalCell"]));for(let a=0;a<s;a+=1)c(r([["data-compshipcell",`${e[0].toUpperCase()+e.slice(1)}_${d}_${a}`]]),o([["display","none"]]),l(u))(t("div")(["comp-tacticalCell"]))}}else{const s=t("div")(["shipName-container"]);l(i)(s);const d="superdreadnought"===e?5:"carrier"===e?4:3;c(r([["data-compshipnamecontainer",`${e}`]]),n(`PNS ${a}`),l(s))(t("p")(["shipName-text"])),c(l(s))(t("div")(["tacticalCells-container"]));for(let a=0;a<d;a+=1)c(r([["data-compshipcell",`${e[0].toUpperCase()+e.slice(1)}_${a}`]]),o([["display","none"]]),l(s))(t("div")(["comp-tacticalCell"]));c(n("?"),r([["data-compshipquestion",`${e[0].toUpperCase()+e.slice(1)}`]]),l(s))(t("div")(["comp-tacticalCell"]))}}))}const T=function(){const e=document.querySelectorAll(".compShipPresent"),t=document.querySelectorAll(".compShipNotPresent");e.forEach((e=>{c(i("click")(H))(e)})),t.forEach((e=>{c(i("click")(G))(e)}))},k=function(){localStorage.clear(),window.scrollTo(0,0),self.location.reload()},I=function(e){const r=document.querySelector(".main"),a=document.querySelector(".infoScreen-wrapper");null==a||a.remove();const i=t("div")(["winner-container"]);l(r)(i),"comp"===e?(c(n("DEFEAT!"),o([["font-size","2rem"]]),l(i))(t("p")(["winner-announcement"])),c(n("With heavy heart and profound regret, we must report a defeat in battle. Our valiant crew fought with all their strength and skill, but alas, the enemy proved too strong for us. We honor the memory of those who gave their lives in defense of the Kingdom, and we pledge to continue the fight with renewed determination. We shall not rest until victory is ours!"),l(i))(t("p")(["winner-announcement"])),T()):(c(n("VICTORY!"),o([["font-size","2rem"]]),l(i))(t("p")(["winner-announcement"])),c(n(`The cheers of the crew fill the bridge as the last enemy ship explodes in a ball of fire. You have emerged victorious from the heat of battle, your ships battered but still flying. Your skill and courage in the face of overwhelming odds have saved the lives of your crew and secured another victory for the Star Kingdom of Manticore. As you survey the wreckage of the enemy fleet, you know that your actions will go down in history as a shining example of the indomitable spirit of the Manticoran Navy. \n\t\t\t\t\n\t\t\t\tCongrats ${e}! You have destroyed the Haven Fleet!\n\t\t\t\t`),l(i))(t("p")(["winner-announcement"])),T()),c(n("Restart"),s("click")(k),l(i))(t("button")(["bttn-restart"])),localStorage.setItem("isGameWon",JSON.stringify(!0))},x={hitsOnShip:["A hit, Sir!","Direct hit, Sir!","We must have taken out her forward impellers!","Direct hit on their com section!","We just took out most of her missile tracking capability!","One hit, port side aft!","A hit, Sir! At least one, and—","Her forward impellers are down!","Roll port! All batteries, engage!","Engage with forward batteries!","They're taking the bait, Sir!","Formation Reno, Com—get those carriers in tighter!","Recompute firing pattern.","We just took out their forward impellers!","We've got a hit on their port engines, Sir! They're losing speed!","Direct hit on their main power junction, Sir! Their weapons are offline!","We've hit their fuel tanks, Sir! They're venting plasma!","Their sidewalls are failing, Sir! One more hit and they're done for!","We just took out their bridge, Sir! They're blind and adrift!","Direct hit on their missile tubes, Sir! They're defenseless!","We've knocked out their point defense, Sir! Our missiles are getting through!","They're trying to break off, Sir! Keep up the pressure!","We've taken out their propulsion, Sir! They're dead in the water!","Their forward batteries are destroyed, Sir! They can't return fire!","We've hit their command and control, Sir! They're in chaos!","They're splitting their fire, Sir! Focus on the weaker target!","Their port sidewall's down, Sir! We can take them out!","We've disrupted their sensor array, Sir! They can't get a clear reading on us!","Their maneuvering thrusters are offline, Sir! They can't evade us!"],damageOnShip:["Forward hold open to space! Mooring Tractor One's gone! Heavy casualties in Fusion One!","They've lost Damage Control Three, Sir!","Missile One is down, Sir! They're down to one tube.","Spinal Four gone, Sir!","They've lost the secondary fire control sensors!. Primaries unaffected.","Damage control to the bridge! Corpsman to the bridge!","Fusion One, Sir! The mag bottle's fluctuating and can't be shut down from here—something's cut the circuits!","Sir, They're down to twelve birds for Missile Two, and out of laser heads.","Heavy damage aft! No contact at all with Two-Four or Two-Six.","Sir, They've lost a beta node; their acceleration is dropping.","Theye've lost another beta node, Sir","Point defense is hurt bad, Sir! They've lost four laser clusters and half their phased radar array.","They've lost an energy torpedo and Number Two Laser out of the starboard broadside, but at least the starboard sidewall is still up.","Tractor Seven is gone!","Compartments Eight-Niner-Two and Niner-Three open to space. No casualties!","Two hits forward! Laser Three and Five destroyed. Radar Five is gone, Sir! Heavy casualties in Laser Three!","Missile Two-One and Graser One gone! Heavy damage in the boat bay and Berthing Compartment Seven-five!","They've taken a hit, but we won't let that break our resolve! Medical teams to the casualties, and everyone else stay focused!","Port torp tubes are down, Sir! They've lost half of their firepower!","Sir, They've lost the entire port quarter! The starboard sidewall is holding, but not for long!","Their starboard broadside is crippled, Sir! They've lost four laser clusters and our neutron cannon!","They've lost Graser Three and Four, Sir! They're down to just two guns!","The port wedge generator's gone, Sir! They're losing acceleration!","Sir, They've lost two-thirds of our point defense capability! The enemy missiles are getting through!","They've lost the aft fusion bottle, Sir! They're down to just one engine!","Sir, They've lost our forward array! They can't get a clear reading on the enemy!","They've lost their main battery, Sir! The enemy ship is still coming!","They've lost three out of four grav plates, Sir! They're adrift!","Sir, They've lost all communication with the forward compartments! They don't know what's happening up there!","The port missile tube's destroyed, Sir! They're down to just one tube and no spares!","The enemy's hit them with a grav lance, Sir! The hull's buckling!","They've lost the port-side maneuvering thrusters, Sir! They can't dodge their fire!","Sir, They've lost the entire bridge! They're blind and drifting!","They've lost our aft impellers! They're drifting into enemy fire!","Port engines destroyed! They can't maintain acceleration!","Enemy has taken out their point defense! They're defenseless!","Fusion reactor's gone critical!","They've lost our port sidewall! They're tearing them apart!","They maneuvering thrusters are destroyed! They can't dodge their fire!","They've lost their forward impellers! They're drifting into enemy fire!","Direct hit on their main battery! They're powerless!","They've hit the bridge! They're going down!","Missiles incoming! Brace for impact!","Enemy has taken out their sensors! We can't get a lock on them!","They've lost their main engines! They're dead in the water!","Enemy has breached their hull! They're venting atmosphere!","Their missile tubes are destroyed! They're helpless!","They've lost their port battery! They can't return fire!"],missesOnShip:["Dammit! We missed our target! Recalibrate those weapons and try again!","Target that ship again! We can't let them get away!","They're dodging our fire! Keep your eyes on them and don't let them get away!","We're not giving up that easily! Reload the missiles and try again!","They're faster than we thought! Keep the pressure on them and don't let up!","Don't let them get away! Target their engines and take them out!","We missed the mark that time, but we'll get them next time! Keep those weapons hot!","Target that ship and don't let them out of our sights! We can't let them escape!","We missed them, but they won't get away that easily! Keep the fire coming!","They're too nimble for us! We need to anticipate their movements and adjust our aim!","Don't lose focus, people! Keep those weapons trained on the target and wait for the right moment to strike!","Our sensors are picking up their trajectory! Get those weapons locked in and fire at will!","They're trying to evade us! Stay alert and keep that ship in your crosshairs!","We may have missed them this time, but we'll get another chance! Keep the pressure on!","Don't let their maneuvers distract you! Stay on target and keep up the barrage!","The enemy has returned fire!","Tracking reports sixteen incoming, Sir!","Enemy jamming primary tracking systems!","Enemy countermeasures active!","Crossing minefield attack perimeter—now!","They missed! Counter missiles now!","Ha! Go to rapid fire on all tubes!","We won't get another chance! Get those impellers back for me, Lieutenant!","A miss! Increase acceleration to max!","This is our chance! Close the range. We'll finish her with energy fire!","Missiles at three-five-two! Lucky this time..","Hard a starboard!","Pursuit vector, maximum acceleration!","General signal to all heavy carriers. Return to formation at once. Repeat, return to formation at once!","Damn! We missed them!","Target evaded, adjust trajectory!","All forward batteries, recalibrate and fire again!","They slipped away, but we'll get them next time!","Missed, but keep those guns trained on them!","They're too quick for us, but we'll catch up eventually!","Continue evasive maneuvers, we'll have another chance!","Fire again, don't let them escape!","They're agile, but we'll find a way to hit them!","We can't let them get away, keep firing!","Target outmaneuvered us, but we're not giving up!","Missed by a hair, but we'll make the next one count!","Don't worry, we'll get them on the next pass!","They're too fast, adjust for their trajectory and try again!","That was too close, but we'll come back around!","We missed, but keep your focus and stay on target!","Their maneuvering is impressive, but we'll take them down eventually!","We need to anticipate their movements and adjust accordingly!","Missed, but keep firing and keep them on the defensive!"],playerShipDestroyed:["They've taken out one of our own! But we won't let their sacrifice be in vain. Keep fighting!","The loss of that ship is a tragedy, but we must stay focused and fight on!","We've lost a valuable ally, but we won't give up this fight! Keep pushing forward!","The enemy has shown us no mercy, but we won't give them any either! Keep the pressure on!","We mourn the loss of our comrades, but we won't let their sacrifice be forgotten. We'll fight on in their memory!","We've lost one of our own, but we won't let their death be in vain. Keep up the fight!","They may have taken out one of our ships, but they won't take us all down! Keep fighting, people!","The loss of that ship is a heavy blow, but we won't let it break our spirit. Keep up the attack!","The enemy thinks they've gained an advantage, but we won't let them win that easily. Stay strong, and stay focused!","Our hearts go out to our fallen comrades, but we won't let their sacrifice be for nothing. Keep fighting, people!","They've taken out one of our own, but we won't let that stop us. We'll avenge them and push on!","The loss of that ship is a painful reminder of the stakes of this battle, but we won't give up. Keep the pressure on!","Our enemy has struck a blow, but we will not be defeated! We will fight on and show them what we're made of!","We've lost one of our own, but we won't let that deter us. We'll avenge them and continue the fight!","The enemy has claimed one of our ships, but they won't claim us all. Keep the battle raging!"],compShipDestroyed:["Yes! She's streaming air, Sir!","Enemy vessel destroyed! Good shooting, people!","That should give them something to think about!","Target eliminated! Move on to the next one!","We've neutralized their threat! On to the next target!","Enemy ship down! Let's keep up the pressure!","That'll teach them to mess with us!","Nice work, everyone! Keep it up!","Enemy vessel neutralized! Let's keep the momentum going!","Target destroyed! Now let's take out their friends!","That's one less enemy to worry about!","Enemy vessel eliminated! Let's keep pushing forward!","Direct hit! Enemy ship destroyed!","Good shooting, gunners! That one's not coming back!","Enemy vessel neutralized! Keep up the good work!","Target eliminated! Let's move on to the next one!","Enemy vessel down! Keep the pressure on!","Another one bites the dust! Great job, everyone!","Enemy ship destroyed! Let's keep up the pace!","Target destroyed! Now onto the next one!","We've taken out an enemy vessel! Let's go for more!","Enemy vessel neutralized! Keep up the good work, crew!","Direct hit! Enemy ship destroyed! Excellent shooting!","We've eliminated an enemy vessel! Let's keep the momentum going!","Enemy ship down! Great work, everyone!","Target destroyed! We're one step closer to victory!","Enemy vessel eliminated! Let's keep pushing forward!"]};function $(){return Math.random()>.5}async function J({towardsCombatant:e,firedStatus:r,shipTypeHit:o,shipNumber:a}){const n=["A hit on","Direct hit on","Shields weak on","Hull integrity is weakening on","Impellers damaged on","Engines are out on","Weapons systems offline on","Life support failing on","Structural damage on","Reactor breach on","Target immobilized on","Power systems fluctuating on","Navigational systems down on","Communication systems disabled on","Gravity generators failing on","Primary sensor array damaged on","Secondary defenses compromised on","Point defense systems offline on","Missile tubes destroyed on"],s=()=>n[Math.floor(Math.random()*n.length)];var i;const c=JSON.parse(null!==(i=localStorage.getItem("havenShipNames"))&&void 0!==i?i:"");var u;const p=JSON.parse(null!==(u=localStorage.getItem("manticoreShipNames"))&&void 0!==u?u:"");var h;const m=JSON.parse(null!==(h=localStorage.getItem("playerName"))&&void 0!==h?h:""),y=document.querySelector(".battleMessage-container"),g=t("p")(["battleMessageElem"]);l(y)(g);const f=new Date,S=new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",second:"numeric"}).format(f),v="comp"===e?o&&("superdreadnought"===o?c.superdreadnought:"carrier"===o?c.carrier:"battleship"===o?c.battleship:"destroyer"===o&&a?c.destroyers[a]:"frigate"===o&&a?c.frigates[a]:""):o&&("superdreadnought"===o?p.superdreadnought:"carrier"===o?p.carrier:"battleship"===o?p.battleship:"destroyer"===o&&a?p.destroyers[a]:"frigate"===o&&a?p.frigates[a]:"");if("comp"===e){const e="hit"===r?x.hitsOnShip[Math.floor(Math.random()*x.hitsOnShip.length)]:"miss"===r?x.missesOnShip[Math.floor(Math.random()*x.missesOnShip.length)]:"sunk"===r?x.compShipDestroyed[Math.floor(Math.random()*x.compShipDestroyed.length)]:"";if(o){d({containerElem:y,strings:[`${S}:: ${$()?`Admiral ${m}!`:""} ${s()} the PNS ${v}! ${e}`],speed:15})}else{d({containerElem:y,strings:[`${S}::\t${e}`],speed:15})}}else if("player"===e){if(!o)return;const e="hit"===r?x.damageOnShip[Math.floor(Math.random()*x.damageOnShip.length)]:"sunk"===r?x.playerShipDestroyed[Math.floor(Math.random()*x.playerShipDestroyed.length)]:"";if("hit"===r){d({containerElem:y,strings:[`${S}::\t${$()?`Admiral ${m}!`:""} ${s()} the ${o} RMNS ${v}! ${e}`],speed:15})}else if("sunk"===r){d({containerElem:y,strings:[`${S}::\t${s()} the ${o} RMNS ${v}! Admiral ${m}! Core breach detected!\n\t\t\t\t...\n\t\t\t\tSir, she's gone... Dear God, all those people... `],speed:15})}}}const q=async function({currentCellCoord:e,currentShipSymbol:r,towardsCombatant:o,hitOrMiss:a,sunkShipName:n}){var s;JSON.parse(null!==(s=localStorage.getItem("havenShipNames"))&&void 0!==s?s:"");var i;const c=JSON.parse(null!==(i=localStorage.getItem("manticoreShipNames"))&&void 0!==i?i:""),d=document.querySelector(".battleMessage-container"),u=t("p")(["battleMessageElem"]);if(l(d)(u),"comp"===o){var p;const t=Object.values(JSON.parse(null!==(p=localStorage.getItem("compSuperdreadnought"))&&void 0!==p?p:JSON.stringify([])));var h;const r=Object.values(JSON.parse(null!==(h=localStorage.getItem("compCarrier"))&&void 0!==h?h:JSON.stringify([])));var m;const o=Object.values(JSON.parse(null!==(m=localStorage.getItem("compBattleship"))&&void 0!==m?m:JSON.stringify([])));var y;const n=JSON.parse(null!==(y=localStorage.getItem("compDestroyers"))&&void 0!==y?y:JSON.stringify([])).flatMap((e=>Object.values(e)));var g;const l=JSON.parse(null!==(g=localStorage.getItem("compFrigates"))&&void 0!==g?g:JSON.stringify([])).flatMap((e=>Object.values(e)));if("hit"===a){if(t.includes(e))J({towardsCombatant:"comp",firedStatus:"hit",shipTypeHit:"superdreadnought"});else if(r.includes(e))J({towardsCombatant:"comp",firedStatus:"hit",shipTypeHit:"carrier"});else if(o.includes(e))J({towardsCombatant:"comp",firedStatus:"hit",shipTypeHit:"battleship"});else if(n.includes(e)){var f;const[t,r]=JSON.parse(null!==(f=localStorage.getItem("compDestroyers"))&&void 0!==f?f:JSON.stringify([])).map((e=>Object.values(e)));J({towardsCombatant:"comp",firedStatus:"hit",shipTypeHit:"destroyer",shipNumber:t.includes(e)?0:1})}else if(l.includes(e)){var S;const[t,r]=JSON.parse(null!==(S=localStorage.getItem("compFrigates"))&&void 0!==S?S:JSON.stringify([])).map((e=>Object.values(e)));J({towardsCombatant:"comp",firedStatus:"hit",shipTypeHit:"frigate",shipNumber:t.includes(e)?0:1})}}else"miss"===a&&J({towardsCombatant:"comp",firedStatus:"miss"})}else if("player"===o&&"hit"===a)if("S"===r)J({towardsCombatant:"player",firedStatus:"hit",shipTypeHit:"superdreadnought"}),n===c.superdreadnought&&J({towardsCombatant:"player",firedStatus:"sunk",shipTypeHit:"superdreadnought"});else if("C"===r)J({towardsCombatant:"player",firedStatus:"hit",shipTypeHit:"carrier"}),n===c.carrier&&J({towardsCombatant:"player",firedStatus:"sunk",shipTypeHit:"carrier"});else if("B"===r)J({towardsCombatant:"player",firedStatus:"hit",shipTypeHit:"battleship"}),n===c.battleship&&J({towardsCombatant:"player",firedStatus:"sunk",shipTypeHit:"battleship"});else if("D"===r){var v;const[t,r]=JSON.parse(null!==(v=localStorage.getItem("destroyer"))&&void 0!==v?v:""),o=Object.values(t);J({towardsCombatant:"player",firedStatus:"hit",shipTypeHit:"destroyer",shipNumber:o.includes(e)?0:1}),n!==c.destroyers[0]&&n!==c.destroyers[1]||J({towardsCombatant:"player",firedStatus:"sunk",shipTypeHit:"destroyer",shipNumber:o.includes(e)?0:1})}else if("F"===r){var b;const[t,r]=JSON.parse(null!==(b=localStorage.getItem("frigate"))&&void 0!==b?b:""),o=Object.values(t);J({towardsCombatant:"player",firedStatus:"hit",shipTypeHit:"frigate",shipNumber:o.includes(e)?0:1}),n!==c.frigates[0]&&n!==c.frigates[1]||J({towardsCombatant:"player",firedStatus:"sunk",shipTypeHit:"frigate",shipNumber:o.includes(e)?0:1})}var w;const C=null!==(w=null==d?void 0:d.scrollHeight)&&void 0!==w?w:0;null==d||d.scroll({top:C,left:0,behavior:"smooth"})};function M({playerCompShipsCoords:e,currentCellCoord:t,towardsCombatant:r}){const{playerShipCoords:o,compShipCoords:a}=e;let n="";return"player"===r&&(n=Object.entries(o).reduce(((e,[r,o])=>(o.flat(3).includes(t)&&(e=r[0].toUpperCase()),e)),"")),"comp"===r&&(n=Object.entries(a).reduce(((e,[r,o])=>(o.flat(3).includes(t)&&(e=r[0].toUpperCase()),e)),"")),n}function A(e,t,r){const o=C();var a;const n=JSON.parse(null!==(a=localStorage.getItem("shipHits"))&&void 0!==a?a:JSON.stringify({playerShips:{superdreadnought:0,carrier:0,battleship:0,destroyers:[0,0],frigates:[0,0]},compShips:{superdreadnought:0,carrier:0,battleship:0,destroyers:[0,0],frigates:[0,0]}}));var l;const s=JSON.parse(null!==(l=localStorage.getItem("havenShipNames"))&&void 0!==l?l:"");var i;const c=JSON.parse(null!==(i=localStorage.getItem("manticoreShipNames"))&&void 0!==i?i:""),d={player:null,comp:null};if("player"===r)switch(t){case"S":n.playerShips.superdreadnought<4?n.playerShips.superdreadnought+=1:d.player=c.superdreadnought;break;case"C":n.playerShips.carrier<3?n.playerShips.carrier+=1:d.player=c.carrier;break;case"B":n.playerShips.battleship<2?n.playerShips.battleship+=1:d.player=c.battleship;break;case"D":o.playerShipCoords.destroyers[0].includes(e)?n.playerShips.destroyers[0]<1?n.playerShips.destroyers[0]+=1:d.player=c.destroyers[0]:n.playerShips.destroyers[1]<1?n.playerShips.destroyers[1]+=1:d.player=c.destroyers[1];break;case"F":o.playerShipCoords.frigates[0].includes(e)?d.player=c.frigates[0]:d.player=c.frigates[1]}else switch(t){case"S":n.compShips.superdreadnought<4?n.compShips.superdreadnought+=1:d.comp=s.superdreadnought;break;case"C":n.compShips.carrier<3?n.compShips.carrier+=1:d.comp=s.carrier;break;case"B":n.compShips.battleship<2?n.compShips.battleship+=1:d.comp=s.battleship;break;case"D":o.compShipCoords.destroyers[0].includes(e)?n.compShips.destroyers[0]<1?n.compShips.destroyers[0]+=1:d.comp=s.destroyers[0]:n.compShips.destroyers[1]<1?n.compShips.destroyers[1]+=1:d.comp=s.destroyers[1];break;case"F":o.compShipCoords.frigates[0].includes(e)?d.comp=s.frigates[0]:d.comp=s.frigates[1]}return localStorage.setItem("shipHits",JSON.stringify(n)),d}function P({shipType:e,coordsArr:t,compShipsHitCoordsSet:r,compShipsMissesCoordsSet:o}){if("Frigates"===e){const e=t[0],a=parseInt(e.split(",")[0]),n=parseInt(e.split(",")[1]),l=`${a},${n-1}`,s=parseInt(l.split(",")[1])>=0,i=`${a+1},${n}`,c=parseInt(i.split(",")[0])<=9,d=`${a},${n+1}`,u=parseInt(d.split(",")[1])<=9,p=`${a-1},${n}`,h=parseInt(p.split(",")[0])>=0,m=!s||(r.has(l)||o.has(l)),y=!c||(r.has(i)||o.has(i)),g=!u||(r.has(d)||o.has(d)),f=!h||(r.has(p)||o.has(p));return{isBeforeShipCellFiredUpon:m&&f,isAfterShipCellFiredUpon:y&&g}}const a=structuredClone(t).sort(((e,t)=>{const r=parseInt(e.split(",")[0].replace('"',"")),o=parseInt(e.split(",")[1].replace('"',"")),a=parseInt(t.split(",")[0].replace('"',"")),n=parseInt(t.split(",")[1].replace('"',""));return r<a?-1:r>a?1:o<n?-1:o>n?1:0})),n=a[0],l=a[a.length-1],s=n.split(","),i=l.split(","),c=parseInt(s[0].replace('"',"")),d=parseInt(s[1].replace('"',"")),u=parseInt(i[0].replace('"',"")),p=parseInt(i[1].replace('"',"")),h=d===p,m=h?`${c-1},${d}`:`${c},${d-1}`,y=parseInt(m.split(",")[0]),g=parseInt(m.split(",")[1]),f=!(h?y<=9&&y>=0:g<=9&&g>=0)||(r.has(m)||o.has(m)),S=h?`${u+1},${p}`:`${u},${p+1}`,v=parseInt(S.split(",")[0]),b=parseInt(S.split(",")[1]);return{isBeforeShipCellFiredUpon:f,isAfterShipCellFiredUpon:!(h?v<=9&&v>=0:b<=9&&b>=0)||(r.has(S)||o.has(S))}}function E(){var e;const t=JSON.parse(null!==(e=localStorage.getItem("compSuperdreadnought"))&&void 0!==e?e:JSON.stringify([])),r=Object.values(t);var l;const s=JSON.parse(null!==(l=localStorage.getItem("compBattleship"))&&void 0!==l?l:JSON.stringify([])),i=Object.values(s);var d;const u=JSON.parse(null!==(d=localStorage.getItem("compCarrier"))&&void 0!==d?d:JSON.stringify([])),p=Object.values(u);var h;const m=JSON.parse(null!==(h=localStorage.getItem("compDestroyers"))&&void 0!==h?h:JSON.stringify([])).map((e=>Object.values(e)));var y;const g=JSON.parse(null!==(y=localStorage.getItem("compFrigates"))&&void 0!==y?y:JSON.stringify([])).map((e=>Object.values(e)));var f;const S=JSON.parse(null!==(f=localStorage.getItem("compShipsMissesCoords"))&&void 0!==f?f:JSON.stringify([])),v=new Set(S);var b;const w=JSON.parse(null!==(b=localStorage.getItem("compShipsHitCoords"))&&void 0!==b?b:JSON.stringify([])),C=new Set(w);[["Superdreadnought",r],["Battleship",i],["Carrier",p]].forEach((([e,t])=>{if(t.reduce(((e,t)=>(C.has(t)||(e=!1),e)),!0)){const{isBeforeShipCellFiredUpon:r,isAfterShipCellFiredUpon:l}=P({shipType:e,coordsArr:t,compShipsHitCoordsSet:C,compShipsMissesCoordsSet:v});if(r&&l){const t=document.querySelector(`[data-compshipquestion="${e}"]`);t&&t.remove();const r="Superdreadnought"===e?5:"Carrier"===e?4:3;for(let t=0;t<r;t+=1){const r=document.querySelector(`[data-compshipcell="${e}_${t}"]`);r&&"none"===r.style.display&&c(a("display"),o([["display","visible"],["color","#f0a400"]]),n("💥"))(r)}}}}));[["Destroyers",m],["Frigates",g]].forEach((([e,t])=>{t.forEach(((t,r)=>{if(t.reduce(((e,t)=>(C.has(t)||(e=!1),e)),!0)){const{isBeforeShipCellFiredUpon:l,isAfterShipCellFiredUpon:s}=P({shipType:e,coordsArr:t,compShipsHitCoordsSet:C,compShipsMissesCoordsSet:v});if(l&&s){const l=document.querySelector(`[data-compshipquestion="${e}_${r}"]`);l&&l.remove();for(let l=0;l<t.length;l+=1){const t=document.querySelector(`[data-compshipcell="${e}_${r}_${l}"]`);t&&"none"===t.style.display&&c(a("display"),o([["display","visible"],["color","#f0a400"]]),n("💥"))(t)}}}}))}))}const H=function(e){var t;localStorage.getItem("totalHitsOnCompShips")||localStorage.setItem("totalHitsOnCompShips",JSON.stringify(0));const r=JSON.parse(null!==(t=localStorage.getItem("compShipsCoords"))&&void 0!==t?t:"");var o;let a=JSON.parse(null!==(o=localStorage.getItem("totalHitsOnCompShips"))&&void 0!==o?o:"");var n;const l=null!==(n=this.dataset.cellcomp)&&void 0!==n?n:"";if(r.includes(l)&&17===a){var s;const e=JSON.parse(null!==(s=localStorage.getItem("playerName"))&&void 0!==s?s:"");I(e)}const d=C();console.log("playerCompShipsCoords from handlePlayerClickOnCompShips(): ",d);const u="comp",p=M({playerCompShipsCoords:d,currentCellCoord:l,towardsCombatant:u}),h=A(l,p,u),m=null===h.player||void 0===h.player?h.comp:h.player;var y;q({currentCellCoord:l,currentShipSymbol:p,towardsCombatant:u,hitOrMiss:"hit",sunkShipName:m}),this.textContent="",this.textContent="💥",this.style.color="#f0a400",localStorage.getItem("compShipsHitCoords")||localStorage.setItem("compShipsHitCoords",JSON.stringify([]));const g=JSON.parse(null!==(y=localStorage.getItem("compShipsHitCoords"))&&void 0!==y?y:"");g.includes(l)||(g.push(l),localStorage.setItem("compShipsHitCoords",JSON.stringify(g)),a+=1,localStorage.setItem("totalHitsOnCompShips",JSON.stringify(a))),E();const f=document.querySelectorAll(".compShipPresent"),S=document.querySelectorAll(".compShipNotPresent");f.forEach((e=>{c(i("click")(H))(e)})),S.forEach((e=>{c(i("click")(G))(e)})),setTimeout(K,0)},B=function(e){let t=`${Math.floor(10*Math.random())},${Math.floor(10*Math.random())}`,r=!1;for(;!r;)e.includes(t)?(r=!1,t=`${Math.floor(10*Math.random())},${Math.floor(10*Math.random())}`):r=!0;return t};function W(e,t=1){const r=e.split(","),o=parseInt(r[0].replace('"',"")),a=parseInt(r[1].replace('"',"")),n=[];for(let e=1;e<=t;e+=1){const t=`${o},${a-e}`;a-e>=0&&n.push(t);const r=`${o+e},${a}`;o+e<=9&&n.push(r);const l=`${o},${a+e}`;a+e<=9&&n.push(l);const s=`${o-e},${a}`;o-e>=0&&n.push(s)}return n}function D({compHitOnPlayerCoordsSet:e,compMissOnPlayerCoordsSet:t}){const r=Array.from(e).flatMap((e=>W(e))).filter((r=>!t.has(r)&&!e.has(r)));if(0===r.length)return"";return r.reduce(((t,r)=>{const o=W(r,2).reduce(((t,r)=>(e.has(r)&&(t+=1),t)),0);return t.push([r,o]),t}),[]).sort(((e,t)=>t[1]-e[1]))[0][0]}function j(){const e=localStorage.getItem("prevCompHitOrMiss");var t;const r=JSON.parse(null!==(t=localStorage.getItem("compHitOnPlayerCoordsArr"))&&void 0!==t?t:"[]"),o=new Set(r);var a;const n=JSON.parse(null!==(a=localStorage.getItem("compMissOnPlayerCoordsArr"))&&void 0!==a?a:"[]"),l=new Set(n),s=[r,n].flat();let i="";return e?0===r.length?i=B(s):(i=D({compHitOnPlayerCoordsSet:o,compMissOnPlayerCoordsSet:l}),i=""===i?B(s):i):i=B(s),i}function L(e,t){switch(localStorage.setItem("prevCompHitOrMiss",t),t){case"hit":{var r;localStorage.setItem("prevCompHitOnPlayerCoord",JSON.stringify(e));const t=JSON.parse(null!==(r=localStorage.getItem("compHitOnPlayerCoordsArr"))&&void 0!==r?r:JSON.stringify([]));t.push(e),localStorage.setItem("compHitOnPlayerCoordsArr",JSON.stringify(t));break}case"miss":{var o;localStorage.setItem("prevCompMissOnPlayerCoord",JSON.stringify(e));const t=JSON.parse(null!==(o=localStorage.getItem("compMissOnPlayerCoordsArr"))&&void 0!==o?o:JSON.stringify([]));t.push(e),localStorage.setItem("compMissOnPlayerCoordsArr",JSON.stringify(t));break}}}function F(e){const t=document.querySelector(`[data-playership="${e}"]`);t&&(t.textContent="",t.textContent="💥",t.style.color="#f0a400")}const R=function(e){var t;const r=JSON.parse(null!==(t=localStorage.getItem("playerShipsCoords"))&&void 0!==t?t:"[]");var a;let n=JSON.parse(null!==(a=localStorage.getItem("totalHitsOnPlayerShips"))&&void 0!==a?a:"0");if(r.includes(e)){const t=document.querySelector(`[data-cellplayer="${e}"]`),r=e;var l;const o=null!==(l=null==t?void 0:t.textContent)&&void 0!==l?l:"",a="player",s="hit";F(r);const i=A(r,o,a),c=null===i.player?i.comp:i.player;q({currentCellCoord:r,currentShipSymbol:o,towardsCombatant:a,hitOrMiss:s,sunkShipName:c}),t&&(t.textContent="",t.textContent="💥"),n+=1,localStorage.setItem("totalHitsOnPlayerShips",JSON.stringify(n)),L(e,"hit")}else{const t=document.querySelector(`[data-cellplayer="${e}"]`);var s;t&&(t.textContent="",t.textContent="✖",c(o([["color","#f0a400"]]))(t)),localStorage.getItem("prevCompMissOnPlayerCoord")||localStorage.setItem("prevCompMissOnPlayerCoord",JSON.stringify(""));const r=JSON.parse(null!==(s=localStorage.getItem("prevCompMissOnPlayerCoord"))&&void 0!==s?s:""),a=document.querySelector(`[data-cellplayer="${r}"]`);c(o([["color","gainsboro"]]))(a),L(e,"miss")}},K=function(){var e;localStorage.getItem("isGameWon")||localStorage.setItem("isGameWon",JSON.stringify(""));if(!JSON.parse(null!==(e=localStorage.getItem("isGameWon"))&&void 0!==e?e:"")){var t;localStorage.getItem("totalHitsOnPlayerShips")||localStorage.setItem("totalHitsOnPlayerShips",JSON.stringify(0));const e=JSON.parse(null!==(t=localStorage.getItem("playerShipsCoords"))&&void 0!==t?t:JSON.stringify([])),o=j();if(e.includes(o)){var r;17===JSON.parse(null!==(r=localStorage.getItem("totalHitsOnPlayerShips"))&&void 0!==r?r:"")&&I("comp")}R(o);document.querySelectorAll(".compShipPresent").forEach((e=>{c(s("click")(H))(e)}));document.querySelectorAll(".compShipNotPresent").forEach((e=>{c(s("click")(G))(e)}))}},G=function(e){var t;const r=null!==(t=this.dataset.cellcomp)&&void 0!==t?t:"";var a;const n=null!==(a=this.textContent)&&void 0!==a?a:"";var l;q({currentCellCoord:r,currentShipSymbol:n,towardsCombatant:"comp",hitOrMiss:"miss"}),this.textContent,this.textContent="✖",c(o([["color","#f0a400"]]))(this),localStorage.getItem("prevPlayerMissOnCompCoord")||localStorage.setItem("prevPlayerMissOnCompCoord",JSON.stringify(""));const s=JSON.parse(null!==(l=localStorage.getItem("prevPlayerMissOnCompCoord"))&&void 0!==l?l:""),d=document.querySelector(`[data-cellcomp="${s}"]`);var u;c(o([["color","gainsboro"]]))(d),localStorage.setItem("prevPlayerMissOnCompCoord",JSON.stringify(r));const p=JSON.parse(null!==(u=localStorage.getItem("compShipsMissesCoords"))&&void 0!==u?u:JSON.stringify([]));p.push(r),localStorage.setItem("compShipsMissesCoords",JSON.stringify(p)),E();const h=document.querySelectorAll(".compShipNotPresent"),m=document.querySelectorAll(".compShipPresent");h.forEach((e=>{c(i("click")(G))(e)})),m.forEach((e=>{c(i("click")(H))(e)})),setTimeout(K,0)},z=function(e){window.scrollTo(0,0);const r=document.querySelector(".infoScreen-container");null==r||r.remove();const o=document.querySelector(".preBattle-infoScreen");null==o||o.remove();const a=document.querySelector(".shipBttns-wrapper");null==a||a.remove();const i=document.querySelector(".bothBoards-container");var d;null==i||i.remove(),this.remove(),w(),S(),f(),d=v,localStorage.getItem("playerShipNames")||localStorage.setItem("playerShipNames",JSON.stringify([])),Object.entries(d).forEach((([e,t])=>{if("haven"===e){const e=new Map;Object.entries(t).forEach((([t,r])=>{if("destroyers"===t||"frigates"===t){const o=[r[Math.floor(Math.random()*r.length)],r[Math.floor(Math.random()*r.length)]];e.set(t,o)}else e.set(t.slice(0,-1),r[Math.floor(Math.random()*r.length)])})),localStorage.setItem("havenShipNames",JSON.stringify(Object.fromEntries(e)))}else if("manticore"===e){const e=new Map;Object.entries(t).forEach((([t,r])=>{if("destroyers"===t||"frigates"===t){const o=[r[Math.floor(Math.random()*r.length)],r[Math.floor(Math.random()*r.length)]];e.set(t,o)}else e.set(t.slice(0,-1),r[Math.floor(Math.random()*r.length)])})),localStorage.setItem("manticoreShipNames",JSON.stringify(Object.fromEntries(e)))}})),localStorage.getItem("isGameRunning")||localStorage.setItem("isGameRunning",JSON.stringify(!0));document.querySelectorAll(".compShipPresent").forEach((e=>s("click")(H)(e)));document.querySelectorAll(".compShipNotPresent").forEach((e=>s("click")(G)(e)));const u=document.querySelector(".main");c(l(u))(t("div")(["infoScreen-wrapper"])),O();const p=document.querySelector(".gameBoard-container"),h=t("div")(["battleMessage-wrapper"]);c(l(p))(h),c(n("Manticoran Tenth Fleet CIC"),l(h))(t("h2")(["battleMessageTitleElem"]));const m=new Date,y=new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(m);c(n(`Imperial Terran-year 1913 ${y}`),l(h))(t("h4")(["battleMessageElem"]));const g=t("div")(["battleMessage-container"]);l(h)(g)},Y=function(){const e=document.querySelector(".shipsBttn-container");null==e||e.remove();const o=document.querySelector(".bttn-axisSelector");null==o||o.remove();const a=document.querySelector(".shipBttns-wrapper");c(n("Engage!"),r([["type","button"],["value","start"]]),s("click")(z),l(a))(t("button")(["bttn","bttn-startGame"]))},U=function(){if(localStorage.getItem("playerShipsCoords")){var e;18===JSON.parse(null!==(e=localStorage.getItem("playerShipsCoords"))&&void 0!==e?e:JSON.stringify([])).length&&(document.querySelectorAll(".player-gameCell").forEach((e=>{e.classList.contains("playerShipPresent")||c(n("✴"),r([["class","player-gameCell playerShipNotPresent"]]))(e)})),Y())}},X=function(e,t,r,o){var a;localStorage.getItem("playerShipsCoords")||localStorage.setItem("playerShipsCoords",JSON.stringify([]));const n=JSON.parse(null!==(a=localStorage.getItem("playerShipsCoords"))&&void 0!==a?a:"");if("Axis-X"===t){for(let t=0;t<e;t+=1)if(n.includes(`${Number(r)+t},${o}`))return alert("A ship is already present at these coordinates. Please choose another area.  (｡ •́︿•̀｡ )"),!0}else if("Axis-Y"===t)for(let t=0;t<e;t+=1)if(n.includes(`${r},${Number(o)+t}`))return alert("A ship is already present at these coordinates. Please choose another area.  (｡ •́︿•̀｡ )"),!0},V=function(e,t){const r=e[0].toUpperCase()+e.slice(1),o=t[0].toUpperCase()+t.slice(1);if("single"===t)return localStorage.getItem(`is${o}${r}`)||localStorage.setItem(`is${o}${r}`,JSON.stringify(!0)),!0;if("double"===t){var a;const t=JSON.parse(null!==(a=localStorage.getItem(`${e}`))&&void 0!==a?a:"");if(t.length<2)return localStorage.getItem(`is${o}${r}`)||localStorage.setItem(`is${o}${r}`,JSON.stringify(!0)),!0;if(2===t.length)return localStorage.setItem(`is${o}${r}`,JSON.stringify(!1)),!1}},_=function(e){var t;const r=document.querySelector(".bttn-axisSelector"),a=null==r?void 0:r.textContent,l=null===(t=this.dataset.cellplayer)||void 0===t?void 0:t.split(",");var s;const i=null!==(s=null==l?void 0:l[0])&&void 0!==s?s:"";var d;const u=null!==(d=null==l?void 0:l[1])&&void 0!==d?d:"";if("Axis-X"===a)for(let e=0;e<3;e+=1){const t=document.querySelector(`[data-cellplayer="${Number(i)+e},${u}"]`);(null==t?void 0:t.classList.contains("playerShipPresent"))||c(n("B"),o([["color","#f0a400"],["cursor","crosshair"]]))(t)}else if("Axis-Y"===a)for(let e=0;e<3;e+=1){const t=document.querySelector(`[data-cellplayer="${i},${Number(u)+e}"]`);(null==t?void 0:t.classList.contains("playerShipPresent"))||c(n("B"),o([["color","#f0a400"],["cursor","crosshair"]]))(t)}},Q=function(e){var t;const r=document.querySelector(".bttn-axisSelector"),a=null==r?void 0:r.textContent,n=null===(t=this.dataset.cellplayer)||void 0===t?void 0:t.split(",");var l;const s=null!==(l=null==n?void 0:n[0])&&void 0!==l?l:"";var i;const d=null!==(i=null==n?void 0:n[1])&&void 0!==i?i:"";if("Axis-X"===a)for(let e=0;e<3;e+=1){const t=document.querySelector(`[data-cellplayer="${Number(s)+e},${d}"]`);(null==t?void 0:t.classList.contains("playerShipPresent"))||(t&&(t.textContent=""),c(o([["color","gainsboro"],["cursor","default"]]))(t))}else if("Axis-Y"===a)for(let e=0;e<3;e+=1){const t=document.querySelector(`[data-cellplayer="${s},${Number(d)+e}"]`);(null==t?void 0:t.classList.contains("playerShipPresent"))||(t&&(t.textContent=""),c(o([["color","gainsboro"],["cursor","default"]]))(t))}},Z=function(e){var t;const r=document.querySelector(".bttn-axisSelector"),a=null==r?void 0:r.textContent,l=null===(t=this.dataset.cellplayer)||void 0===t?void 0:t.split(",");var s;const i=null!==(s=null==l?void 0:l[0])&&void 0!==s?s:"";var d;const u=null!==(d=null==l?void 0:l[1])&&void 0!==d?d:"";if("Axis-X"===a)for(let e=0;e<4;e+=1){const t=document.querySelector(`[data-cellplayer="${Number(i)+e},${u}"]`);(null==t?void 0:t.classList.contains("playerShipPresent"))||c(n("C"),o([["color","#f0a400"],["cursor","crosshair"]]))(t)}else if("Axis-Y"===a)for(let e=0;e<4;e+=1){const t=document.querySelector(`[data-cellplayer="${i},${Number(u)+e}"]`);(null==t?void 0:t.classList.contains("playerShipPresent"))||c(n("C"),o([["color","#f0a400"],["cursor","crosshair"]]))(t)}},ee=function(e){var t;const r=document.querySelector(".bttn-axisSelector"),a=null==r?void 0:r.textContent,n=null===(t=this.dataset.cellplayer)||void 0===t?void 0:t.split(",");var l;const s=null!==(l=null==n?void 0:n[0])&&void 0!==l?l:"";var i;const d=null!==(i=null==n?void 0:n[1])&&void 0!==i?i:"";if("Axis-X"===a)for(let e=0;e<4;e+=1){const t=document.querySelector(`[data-cellplayer="${Number(s)+e},${d}"]`);(null==t?void 0:t.classList.contains("playerShipPresent"))||(t&&(t.textContent=""),c(o([["color","gainsboro"],["cursor","default"]]))(t))}else if("Axis-Y"===a)for(let e=0;e<4;e+=1){const t=document.querySelector(`[data-cellplayer="${s},${Number(d)+e}"]`);(null==t?void 0:t.classList.contains("playerShipPresent"))||(t&&(t.textContent=""),c(o([["color","gainsboro"],["cursor","default"]]))(t))}},te=function(e){var t;const r=document.querySelector(".bttn-axisSelector"),a=null==r?void 0:r.textContent,l=null===(t=this.dataset.cellplayer)||void 0===t?void 0:t.split(",");var s;const i=null!==(s=null==l?void 0:l[0])&&void 0!==s?s:"";var d;const u=null!==(d=null==l?void 0:l[1])&&void 0!==d?d:"";if("Axis-X"===a)for(let e=0;e<2;e+=1){const t=document.querySelector(`[data-cellplayer="${Number(i)+e},${u}"]`);(null==t?void 0:t.classList.contains("playerShipPresent"))||c(n("D"),o([["color","#f0a400"],["cursor","crosshair"]]))(t)}else if("Axis-Y"===a)for(let e=0;e<2;e+=1){const t=document.querySelector(`[data-cellplayer="${i},${Number(u)+e}"]`);(null==t?void 0:t.classList.contains("playerShipPresent"))||c(n("D"),o([["color","#f0a400"],["cursor","crosshair"]]))(t)}},re=function(e){var t;const r=document.querySelector(".bttn-axisSelector"),a=null==r?void 0:r.textContent,n=null===(t=this.dataset.cellplayer)||void 0===t?void 0:t.split(",");var l;const s=null!==(l=null==n?void 0:n[0])&&void 0!==l?l:"";var i;const d=null!==(i=null==n?void 0:n[1])&&void 0!==i?i:"";if("Axis-X"===a)for(let e=0;e<2;e+=1){const t=document.querySelector(`[data-cellplayer="${Number(s)+e},${d}"]`);(null==t?void 0:t.classList.contains("playerShipPresent"))||(t&&(t.textContent=""),c(o([["color","gainsboro"],["cursor","default"]]))(t))}else if("Axis-Y"===a)for(let e=0;e<2;e+=1){const t=document.querySelector(`[data-cellplayer="${s},${Number(d)+e}"]`);(null==t?void 0:t.classList.contains("playerShipPresent"))||(t&&(t.textContent=""),c(o([["color","gainsboro"],["cursor","default"]]))(t))}},oe=function(e){var t;const r=null===(t=this.dataset.cellplayer)||void 0===t?void 0:t.split(",");var a;const l=null!==(a=null==r?void 0:r[0])&&void 0!==a?a:"";var s;const i=null!==(s=null==r?void 0:r[1])&&void 0!==s?s:"",d=document.querySelector(`[data-cellplayer="${l},${i}"]`);(null==d?void 0:d.classList.contains("playerShipPresent"))||c(n("F"),o([["color","#f0a400"],["cursor","crosshair"]]))(d)},ae=function(e){var t;const r=null===(t=this.dataset.cellplayer)||void 0===t?void 0:t.split(",");var a;const n=null!==(a=null==r?void 0:r[0])&&void 0!==a?a:"";var l;const s=null!==(l=null==r?void 0:r[1])&&void 0!==l?l:"",i=document.querySelector(`[data-cellplayer="${n},${s}"]`);(null==i?void 0:i.classList.contains("playerShipPresent"))||(i&&(i.textContent=""),c(o([["color","gainsboro"],["cursor","default"]]))(i))},ne=function(e){var t;const r=document.querySelector(".bttn-axisSelector"),a=null==r?void 0:r.textContent,l=null===(t=this.dataset.cellplayer)||void 0===t?void 0:t.split(",");var s;const i=null!==(s=null==l?void 0:l[0])&&void 0!==s?s:"";var d;const u=null!==(d=null==l?void 0:l[1])&&void 0!==d?d:"";if("Axis-X"===a)for(let e=0;e<5;e+=1){const t=document.querySelector(`[data-cellplayer="${Number(i)+e},${u}"]`);(null==t?void 0:t.classList.contains("playerShipPresent"))||c(n("S"),o([["color","#f0a400"],["cursor","crosshair"]]))(t)}else if("Axis-Y"===a)for(let e=0;e<5;e+=1){const t=document.querySelector(`[data-cellplayer="${i},${Number(u)+e}"]`);(null==t?void 0:t.classList.contains("playerShipPresent"))||c(n("S"),o([["color","#f0a400"],["cursor","crosshair"]]))(t)}},le=function(e){var t;const r=document.querySelector(".bttn-axisSelector"),a=null==r?void 0:r.textContent,n=null===(t=this.dataset.cellplayer)||void 0===t?void 0:t.split(",");var l;const s=null!==(l=null==n?void 0:n[0])&&void 0!==l?l:"";var i;const d=null!==(i=null==n?void 0:n[1])&&void 0!==i?i:"";if("Axis-X"===a)for(let e=0;e<5;e+=1){const t=document.querySelector(`[data-cellplayer="${Number(s)+e},${d}"]`);(null==t?void 0:t.classList.contains("playerShipPresent"))||(t&&(t.textContent=""),c(o([["color","gainsboro"],["cursor","default"]]))(t))}else if("Axis-Y"===a)for(let e=0;e<5;e+=1){const t=document.querySelector(`[data-cellplayer="${s},${Number(d)+e}"]`);(null==t?void 0:t.classList.contains("playerShipPresent"))||(t&&(t.textContent=""),c(o([["color","gainsboro"],["cursor","default"]]))(t))}},se=function(e){var t;const a=document.querySelectorAll(".player-gameCell"),l=document.querySelector(".bttn-axisSelector"),d=null==l?void 0:l.textContent,u=null===(t=this.dataset.cellplayer)||void 0===t?void 0:t.split(",");var p;const h=null!==(p=null==u?void 0:u[0])&&void 0!==p?p:"";var y;const g=null!==(y=null==u?void 0:u[1])&&void 0!==y?y:"";var f;localStorage.getItem("superdreadnought")||localStorage.setItem("superdreadnought",JSON.stringify(""));let S=JSON.parse(null!==(f=localStorage.getItem("superdreadnought"))&&void 0!==f?f:"");const v=[],b="superdreadnought",w="single";if("Axis-X"===d&&V(b,w)){if(Number(h)>5)return alert("Please stay within boundaries of the sector (｡•́︿•̀｡)"),null;if(X(5,d,h,g))return null;for(let e=0;e<5;e+=1){const t=document.querySelector(`[data-cellplayer="${Number(h)+e},${g}"]`);t&&(t.textContent=""),c(r([["class","playerShipPresent player-gameCell"]]),o([["color","#f0a400"],["cursor","default"]]),n("S"))(t),v.push(`${Number(h)+e},${g}`)}V(b,w)&&(S={head:v[0],body1:v[1],body2:v[2],body3:v[3],tail:v[4]}),localStorage.setItem("isSingleSuperdreadnought",JSON.stringify(!1))}else if("Axis-Y"===d&&V(b,"single")){if(Number(g)>5)return alert("Please stay within boundaries of the sector (｡•́︿•̀｡)"),null;if(X(5,d,h,g))return null;for(let e=0;e<5;e+=1){const t=document.querySelector(`[data-cellplayer="${h},${Number(g)+e}"]`);t&&(t.textContent=""),c(r([["class","playerShipPresent player-gameCell"]]),o([["color","#f0a400"],["cursor","default"]]),n("S"))(t),v.push(`${h},${Number(g)+e}`)}V(b,w)&&(S={head:v[0],body1:v[1],body2:v[2],body3:v[3],tail:v[4]}),localStorage.setItem("isSingleSuperdreadnought",JSON.stringify(!1))}if(localStorage.setItem("superdreadnought",JSON.stringify(S)),m(v),!0===V(b,w)){const e=document.querySelector(".bttn-superdreadnought");c(o([["border","1px solid gainsboro"],["color","gainsboro"],["cursor","not-allowed"]]))(e);const t=document.querySelector(".bttn-carrier");t&&!0!==t.disabled&&c(o([["border","1px solid #00f000"],["color","#00f000"],["cursor","pointer"]]),s("click")(me))(t);const r=document.querySelector(".bttn-battleship");r&&!0!==r.disabled&&c(o([["border","1px solid #00f000"],["color","#00f000"],["cursor","pointer"]]),s("click")(ge))(r);const n=document.querySelector(".bttn-destroyer");n&&!0!==n.disabled&&c(o([["border","1px solid #00f000"],["color","#00f000"],["cursor","pointer"]]),s("click")(pe))(n);const l=document.querySelector(".bttn-frigate");l&&!0!==l.disabled&&c(o([["border","1px solid #00f000"],["color","#00f000"],["cursor","pointer"]]),s("click")(de))(l),a.forEach((e=>{c(i("click")(se),i("mouseenter")(ne),i("mouseleave")(le))(e)}))}U()},ie=function(e){const t=document.querySelectorAll(".player-gameCell");this.disabled=!0,c(o([["border","1px solid #f0a400"],["color","#f0a400"]]))(this);const r=document.querySelector(".bttn-carrier");r&&c(o([["border","1px solid gainsboro"],["color","gainsboro"],["cursor","not-allowed"]]),i("click")(me))(r);const a=document.querySelector(".bttn-battleship");a&&c(o([["border","1px solid gainsboro"],["color","gainsboro"],["cursor","not-allowed"]]),i("click")(ge))(a);const n=document.querySelector(".bttn-destroyer");n&&c(o([["border","1px solid gainsboro"],["color","gainsboro"],["cursor","not-allowed"]]),i("click")(pe))(n);const l=document.querySelector(".bttn-frigate");l&&c(o([["border","1px solid gainsboro"],["color","gainsboro"],["cursor","not-allowed"]]),i("click")(de))(l),t.forEach((e=>c(s("click")(se),s("mouseenter")(ne),s("mouseleave")(le))(e)))},ce=function(e){var t;const a=document.querySelectorAll(".player-gameCell"),l=document.querySelector(".bttn-axisSelector");var d;const u=null!==(d=null==l?void 0:l.textContent)&&void 0!==d?d:"",p=null===(t=this.dataset.cellplayer)||void 0===t?void 0:t.split(",");var h;const y=null!==(h=null==p?void 0:p[0])&&void 0!==h?h:"";var g;const f=null!==(g=null==p?void 0:p[1])&&void 0!==g?g:"";var S;localStorage.getItem("frigate")||localStorage.setItem("frigate",JSON.stringify([]));const v=JSON.parse(null!==(S=localStorage.getItem("frigate"))&&void 0!==S?S:""),b=[],w="frigate",C="double";if(V(w,C)){if(X(1,u,y,f))return null;const e=document.querySelector(`[data-cellplayer="${y},${f}"]`);e&&(e.textContent=""),c(r([["class","playerShipPresent player-gameCell"]]),o([["color","#f0a400"],["cursor","default"]]),n("F"))(e),b.push(`${y},${f}`),V(w,C)&&v.push({body:b[0]})}else if(!1===V(w,C))return null;if(localStorage.setItem("frigate",JSON.stringify(v)),m(b),!1===V(w,C)){const e=document.querySelector(".bttn-frigate");c(o([["border","1px solid gainsboro"],["color","gainsboro"]]))(e);const t=document.querySelector(".bttn-superdreadnought");t&&!0!==t.disabled&&c(o([["border","1px solid #00f000"],["color","#00f000"],["cursor","pointer"]]),s("click")(ie))(t);const r=document.querySelector(".bttn-carrier");r&&!0!==r.disabled&&c(o([["border","1px solid #00f000"],["color","#00f000"],["cursor","pointer"]]),s("click")(me))(r);const n=document.querySelector(".bttn-battleship");n&&!0!==n.disabled&&c(o([["border","1px solid #00f000"],["color","#00f000"],["cursor","pointer"]]),s("click")(ge))(n);const l=document.querySelector(".bttn-destroyer");l&&!0!==l.disabled&&c(o([["border","1px solid #00f000"],["color","#00f000"],["cursor","pointer"]]),s("click")(pe))(l),a.forEach((e=>{c(i("click")(ce),i("mouseenter")(oe),i("mouseleave")(ae))(e)}))}U()},de=function(e){const t=document.querySelectorAll(".player-gameCell");this.disabled=!0,c(o([["border","1px solid #f0a400"],["color","#f0a400"]]))(this);const r=document.querySelector(".bttn-superdreadnought");r&&c(o([["border","1px solid gainsboro"],["color","gainsboro"],["cursor","not-allowed"]]),i("click")(ie))(r);const a=document.querySelector(".bttn-carrier");a&&c(o([["border","1px solid gainsboro"],["color","gainsboro"],["cursor","not-allowed"]]),i("click")(me))(a);const n=document.querySelector(".bttn-battleship");n&&c(o([["border","1px solid gainsboro"],["color","gainsboro"],["cursor","not-allowed"]]),i("click")(ge))(n);const l=document.querySelector(".bttn-destroyer");l&&c(o([["border","1px solid gainsboro"],["color","gainsboro"],["cursor","not-allowed"]]),i("click")(pe))(l),t.forEach((e=>c(s("click")(ce),s("mouseenter")(oe),s("mouseleave")(ae))(e)))},ue=function(e){var t;const a=document.querySelectorAll(".player-gameCell"),l=document.querySelector(".bttn-axisSelector"),d=null==l?void 0:l.textContent,u=null===(t=this.dataset.cellplayer)||void 0===t?void 0:t.split(",");var p;const h=null!==(p=null==u?void 0:u[0])&&void 0!==p?p:"";var y;const g=null!==(y=null==u?void 0:u[1])&&void 0!==y?y:"";var f;localStorage.getItem("destroyer")||localStorage.setItem("destroyer",JSON.stringify([]));const S=JSON.parse(null!==(f=localStorage.getItem("destroyer"))&&void 0!==f?f:""),v=[],b="destroyer",w="double";if("Axis-X"===d&&V(b,w)){if(Number(h)>8)return alert("Please stay within boundaries of the sector (｡•́︿•̀｡)"),null;if(X(2,d,h,g))return null;for(let e=0;e<2;e+=1){const t=document.querySelector(`[data-cellplayer="${Number(h)+e},${g}"]`);t&&(t.textContent=""),c(r([["class","playerShipPresent player-gameCell"]]),o([["color","#f0a400"],["cursor","default"]]),n("D"))(t),v.push(`${Number(h)+e},${g}`)}V(b,w)&&S.push({head:v[0],tail:v[1]})}else if("Axis-Y"===d&&V(b,w)){if(Number(g)>8)return alert("Please stay within boundaries of the sector (｡•́︿•̀｡)"),null;if(X(2,d,h,g))return null;for(let e=0;e<2;e+=1){const t=document.querySelector(`[data-cellplayer="${h},${Number(g)+e}"]`);t&&(t.textContent=""),c(r([["class","playerShipPresent player-gameCell"]]),o([["color","#f0a400"],["cursor","default"]]),n("D"))(t),v.push(`${h},${Number(g)+e}`)}V(b,w)&&S.push({head:v[0],tail:v[1]})}else if(!1===V(b,w))return null;if(localStorage.setItem("destroyer",JSON.stringify(S)),m(v),!1===V(b,w)){const e=document.querySelector(".bttn-destroyer");c(o([["border","1px solid gainsboro"],["color","gainsboro"],["cursor","not-allowed"]]))(e);const t=document.querySelector(".bttn-superdreadnought");t&&!0!==t.disabled&&c(o([["border","1px solid #00f000"],["color","#00f000"],["cursor","pointer"]]),s("click")(ie))(t);const r=document.querySelector(".bttn-carrier");r&&!0!==r.disabled&&c(o([["border","1px solid #00f000"],["color","#00f000"],["cursor","pointer"]]),s("click")(me))(r);const n=document.querySelector(".bttn-battleship");n&&!0!==n.disabled&&c(o([["border","1px solid #00f000"],["color","#00f000"],["cursor","pointer"]]),s("click")(ge))(n);const l=document.querySelector(".bttn-frigate");l&&!0!==l.disabled&&c(o([["border","1px solid #00f000"],["color","#00f000"],["cursor","pointer"]]),s("click")(de))(l),a.forEach((e=>{c(i("click")(ue),i("mouseenter")(te),i("mouseleave")(re))(e)}))}U()},pe=function(e){document.querySelectorAll(".player-gameCell").forEach((e=>c(s("click")(ue),s("mouseenter")(te),s("mouseleave")(re))(e))),this.disabled=!0,c(o([["border","1px solid #f0a400"],["color","#f0a400"]]))(this);const t=document.querySelector(".bttn-superdreadnought");t&&c(o([["border","1px solid gainsboro"],["color","gainsboro"],["cursor","not-allowed"]]),i("click")(ie))(t);const r=document.querySelector(".bttn-carrier");r&&c(o([["border","1px solid gainsboro"],["color","gainsboro"],["cursor","not-allowed"]]),i("click")(me))(r);const a=document.querySelector(".bttn-battleship");a&&c(o([["border","1px solid gainsboro"],["color","gainsboro"],["cursor","not-allowed"]]),i("click")(ge))(a);const n=document.querySelector(".bttn-frigate");n&&c(o([["border","1px solid gainsboro"],["color","gainsboro"],["cursor","not-allowed"]]),i("click")(de))(n)},he=function(e){var t;const a=document.querySelectorAll(".player-gameCell"),l=document.querySelector(".bttn-axisSelector"),d=null==l?void 0:l.textContent,u=null===(t=this.dataset.cellplayer)||void 0===t?void 0:t.split(",");var p;const h=null!==(p=null==u?void 0:u[0])&&void 0!==p?p:"";var y;const g=null!==(y=null==u?void 0:u[1])&&void 0!==y?y:"";var f;localStorage.getItem("carrier")||localStorage.setItem("carrier",JSON.stringify([]));let S=JSON.parse(null!==(f=localStorage.getItem("carrier"))&&void 0!==f?f:"");const v=[],b="carrier",w="single";if("Axis-X"===d&&V(b,w)){if(Number(h)>6)return alert("Please stay within boundaries of the sector (｡•́︿•̀｡)"),null;if(X(4,d,h,g))return null;for(let e=0;e<4;e+=1){const t=document.querySelector(`[data-cellplayer="${Number(h)+e},${g}"]`);t&&(t.textContent=""),c(r([["class","playerShipPresent player-gameCell"]]),o([["color","#f0a400"],["cursor","default"]]),n("C"))(t),v.push(`${Number(h)+e},${g}`)}V(b,w)&&(S={head:v[0],body1:v[1],body2:v[2],tail:v[3]}),localStorage.setItem("isSingleCarrier",JSON.stringify(!1))}else if("Axis-Y"===d&&V(b,w)){if(Number(g)>6)return alert("Please stay within boundaries of the sector (｡•́︿•̀｡)"),null;if(X(4,d,h,g))return null;for(let e=0;e<4;e+=1){const t=document.querySelector(`[data-cellplayer="${h},${Number(g)+e}"]`);t&&(t.textContent=""),c(r([["class","playerShipPresent player-gameCell"]]),o([["color","#f0a400"],["cursor","default"]]),n("C"))(t),v.push(`${h},${Number(g)+e}`)}V(b,w)&&(S={head:v[0],body1:v[1],body2:v[2],tail:v[3]}),localStorage.setItem("isSingleCarrier",JSON.stringify(!1))}if(localStorage.setItem("carrier",JSON.stringify(S)),m(v),!0===V(b,w)){const e=document.querySelector(".bttn-carrier");c(o([["border","1px solid gainsboro"],["color","gainsboro"],["cursor","not-allowed"]]))(e);const t=document.querySelector(".bttn-superdreadnought");t&&!0!==t.disabled&&c(o([["border","1px solid #00f000"],["color","#00f000"],["cursor","pointer"]]),s("click")(ie))(t);const r=document.querySelector(".bttn-battleship");r&&!0!==r.disabled&&c(o([["border","1px solid #00f000"],["color","#00f000"],["cursor","pointer"]]),s("click")(ge))(r);const n=document.querySelector(".bttn-destroyer");n&&!0!==n.disabled&&c(o([["border","1px solid #00f000"],["color","#00f000"],["cursor","pointer"]]),s("click")(pe))(n);const l=document.querySelector(".bttn-frigate");l&&!0!==l.disabled&&c(o([["border","1px solid #00f000"],["color","#00f000"],["cursor","pointer"]]),s("click")(de))(l),a.forEach((e=>{c(i("click")(he),i("mouseenter")(Z),i("mouseleave")(ee))(e)}))}U()},me=function(e){const t=document.querySelectorAll(".player-gameCell");this.disabled=!0,c(o([["border","1px solid #f0a400"],["color","#f0a400"]]))(this);const r=document.querySelector(".bttn-superdreadnought");r&&c(o([["border","1px solid gainsboro"],["color","gainsboro"],["cursor","not-allowed"]]),i("click")(ie))(r);const a=document.querySelector(".bttn-battleship");a&&c(o([["border","1px solid gainsboro"],["color","gainsboro"],["cursor","not-allowed"]]),i("click")(ge))(a);const n=document.querySelector(".bttn-destroyer");n&&c(o([["border","1px solid gainsboro"],["color","gainsboro"],["cursor","not-allowed"]]),i("click")(pe))(n);const l=document.querySelector(".bttn-frigate");l&&c(o([["border","1px solid gainsboro"],["color","gainsboro"],["cursor","not-allowed"]]),i("click")(de))(l),t.forEach((e=>c(s("click")(he),s("mouseenter")(Z),s("mouseleave")(ee))(e)))},ye=function(e){var t;const a=document.querySelectorAll(".player-gameCell"),l=document.querySelector(".bttn-axisSelector"),d=null==l?void 0:l.textContent,u=null===(t=this.dataset.cellplayer)||void 0===t?void 0:t.split(",");var p;const h=null!==(p=null==u?void 0:u[0])&&void 0!==p?p:"";var y;const g=null!==(y=null==u?void 0:u[1])&&void 0!==y?y:"";var f;localStorage.getItem("battleship")||localStorage.setItem("battleship",JSON.stringify(""));let S=JSON.parse(null!==(f=localStorage.getItem("battleship"))&&void 0!==f?f:"");const v=[],b="battleship",w="single";if("Axis-X"===d&&V(b,w)){if(Number(h)>7)return alert("Please stay within boundaries of the sector (｡•́︿•̀｡)"),null;if(X(3,d,h,g))return null;for(let e=0;e<3;e+=1){const t=document.querySelector(`[data-cellplayer="${Number(h)+e},${g}"]`);t&&(t.textContent=""),c(r([["class","playerShipPresent player-gameCell"]]),o([["color","#f0a400"],["cursor","default"]]),n("B"))(t),v.push(`${Number(h)+e},${g}`)}V(b,"single")&&(S={head:v[0],body:v[1],tail:v[2]}),localStorage.setItem("isSingleBattleship",JSON.stringify(!1))}else if("Axis-Y"===d&&V(b,w)){if(Number(g)>7)return alert("Please stay within boundaries of the sector (｡•́︿•̀｡)"),null;if(X(3,d,h,g))return null;for(let e=0;e<3;e+=1){const t=document.querySelector(`[data-cellplayer="${h},${Number(g)+e}"]`);t&&(t.textContent=""),c(r([["class","playerShipPresent player-gameCell"]]),o([["color","#f0a400"],["cursor","default"]]),n("B"))(t),v.push(`${h},${Number(g)+e}`)}V(b,"single")&&(S={head:v[0],body:v[1],tail:v[2]}),localStorage.setItem("isSingleBattleship",JSON.stringify(!1))}if(localStorage.setItem("battleship",JSON.stringify(S)),m(v),!0===V(b,w)){const e=document.querySelector(".bttn-battleship");c(o([["border","1px solid gainsboro"],["color","gainsboro"],["cursor","not-allowed"]]))(e);const t=document.querySelector(".bttn-superdreadnought");t&&!0!==t.disabled&&c(o([["border","1px solid #00f000"],["color","#00f000"],["cursor","pointer"]]),s("click")(ie))(t);const r=document.querySelector(".bttn-carrier");r&&!0!==r.disabled&&c(o([["border","1px solid #00f000"],["color","#00f000"],["cursor","pointer"]]),s("click")(me))(r);const n=document.querySelector(".bttn-destroyer");n&&!0!==n.disabled&&c(o([["border","1px solid #00f000"],["color","#00f000"],["cursor","pointer"]]),s("click")(pe))(n);const l=document.querySelector(".bttn-frigate");l&&!0!==l.disabled&&c(o([["border","1px solid #00f000"],["color","#00f000"],["cursor","pointer"]]),s("click")(de))(l),a.forEach((e=>{c(i("click")(ye),i("mouseenter")(_),i("mouseleave")(Q))(e)}))}U()},ge=function(e){const t=document.querySelectorAll(".player-gameCell");this.disabled=!0,c(o([["border","1px solid #f0a400"],["color","#f0a400"]]))(this);const r=document.querySelector(".bttn-superdreadnought");r&&c(o([["border","1px solid gainsboro"],["color","gainsboro"],["cursor","not-allowed"]]),i("click")(ie))(r);const a=document.querySelector(".bttn-carrier");a&&c(o([["border","1px solid gainsboro"],["color","gainsboro"],["cursor","not-allowed"]]),i("click")(me))(a);const n=document.querySelector(".bttn-destroyer");n&&c(o([["border","1px solid gainsboro"],["color","gainsboro"],["cursor","not-allowed"]]),i("click")(pe))(n);const l=document.querySelector(".bttn-frigate");l&&c(o([["border","1px solid gainsboro"],["color","gainsboro"],["cursor","not-allowed"]]),i("click")(de))(l),t.forEach((e=>c(s("click")(ye),s("mouseenter")(_),s("mouseleave")(Q))(e)))},fe=function(){const e=document.querySelector(".main"),o=t("div")(["shipBttns-wrapper"]);l(e)(o);const a=t("div")(["shipsBttn-container"]);l(o)(a),c(n("Superdreadnought"),s("click")(ie),r([["type","button"],["value","superdreadnought"]]),l(a))(t("button")(["bttn-superdreadnought"])),c(n("Carrier"),s("click")(me),r([["type","button"],["value","carrier"]]),l(a))(t("button")(["bttn-carrier"])),c(n("Battleship"),s("click")(ge),r([["type","button"],["value","battleship"]]),l(a))(t("button")(["bttn-battleship"])),c(n("Destroyer"),s("click")(pe),r([["type","button"],["value","destroyer"]]),l(a))(t("button")(["bttn-destroyer"])),c(n("Frigate"),s("click")(de),r([["type","button"],["value","frigate"]]),l(a))(t("button")(["bttn-frigate"])),c(s("click")(h),n("Axis-X"),r([["type","button"],["value","axis-x"]]),l(o))(t("button")(["bttn","bttn-axisSelector"]))},Se=function(e){const t=e,r=document.querySelector(".header__links");null==r||r.remove();const o=document.querySelector(".greetings-container");null==o||o.remove();const a=document.querySelector("#form-name");null==a||a.remove(),u(t),fe(),p()},ve=function(e){var t;e.preventDefault();var r;const o=null!==(r=null===(t=new FormData(this).get("form-name-input"))||void 0===t?void 0:t.toString())&&void 0!==r?r:"";localStorage.getItem("playerName")||localStorage.setItem("playerName",JSON.stringify(o)),Se(o)},be=function(){const e=document.querySelector("#form-name");null==e||e.addEventListener("submit",ve)},we=["In a time of crisis, the Star Kingdom of Manticore faces a grave threat from\n  the treacherous People's Republic of Haven. Their aggression and lust for\n  power has forced us into a war we did not seek. However, as loyal subjects of\n  Her Majesty Queen Elizabeth III, it is our duty to defend our homeland and\n  protect our people from harm!","The enemy seeks to destroy our way of life, but we will not falter! Our brave\n  sailors and soldiers stand ready to defend the Kingdom with honor and courage.\n  We will not rest until the threat of Haven is neutralized, and our people can\n  live in peace and prosperity once again.","People's Republic of Haven has assembled a formidable fleet near the Talbott\n  Cluster, commanded by the traitor Admiral Esther McQueen, and are poised to\n  launch an invasion of the Rembrandt Trade Union.","The brave people of Rembrandt\n  have reached out to us for assistance in the face of this imminent threat,\n  pledging their loyalty to the Kingdom upon the successful repulsion of the\n  Haven forces.","As staunch defenders of peace and justice, we cannot turn a\n  blind eye to their plight and will stand by our allies in their hour of need.\n  Our fleet has been mobilized and will soon join the battle to ensure the\n  safety and sovereignty of the Rembrandt Trade Union.","You have been called upon to engage and defeat the Haven Fleet and secure\n  peace and prosperity for the Star Kingdom and its allies!"];document.addEventListener("DOMContentLoaded",(async function(){be();d({containerElem:document.querySelector(".greetings-container"),strings:we,speed:10}),localStorage.clear()}));
//# sourceMappingURL=index.16b2609a.js.map
